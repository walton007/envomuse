<div class="hbox hbox-auto-xs hbox-auto-sm" ng-init="showEdit=false;" ng-controller="ContactListCtrl">

  <div class="col">

   <!-- header -->
    <div class="wrapper-sm b-b">
      <a ng-click="showItem('store')" class="m-r" tooltip="返回"><i class="fa fa-fw fa-arrow-circle-left text-muted m-r-sm"></i></a>
      <a ng-click="showItem('addcontact')" class="m-r" tooltip="添加联系人"><i class="icon icon-user-follow text-muted m-r-sm"></i></a>
    </div>
    <!-- / header -->
    
    <!-- main -->
    <div class="wrapper">

      <div ng-show="datasource.length==0 && !showEdit">
        暂时没有联系人信息，马上<button class="btn m-b-xs btn-sm btn-info m-l" ng-click="showItem('addcontact')">添加联系人</button>
      </div>
      <div ng-show="datasource.length>0 && !showEdit">
        <div ng-repeat="item in datasource" class="col-sm-4">
          <div class="panel panel-default">
            <div class="panel-heading">
              <div class="clearfix">
                <div class="pull-left thumb-md avatar b-3x m-r">
                  <img src="img/a2.jpg" alt="...">
                </div>
                <div class="clear">
                  <div class="h3 m-t-xs m-b-xs">
                    {{item.name}}
                    <i class="fa fa-circle text-{{item.isLeader?'success':'dker'}} pull-right text-xs m-t-sm"></i>
                  </div>
                  <small class="text-muted">{{item.title}}</small>
                  <a href ng-click="editItem(item)"><i class="pull-right fa fa-edit" tooltip="修改"></i></a>
                </div>
              </div>
            </div>
            <div class="list-group no-radius alt">
              <a class="list-group-item" href>
                <span class="pull-right">{{item.workmobile}}</span>
                <i class="fa fa-phone fa-fw text-muted"></i> 
                工作电话
              </a>
              <a class="list-group-item" href>
                <span class="pull-right">{{item.email}}</span>
                <i class="fa fa-envelope-o fa-fw text-muted"></i> 
                Email
              </a>
              <a class="list-group-item" href >
                <span class="pull-right">{{item.weixin}}</span>
                <i class="fa fa-wechat fa-fw text-muted"></i> 
                微信
              </a>
              <a class="list-group-item" href>
                <span class="pull-right">{{item.qq}}</span>
                <i class="fa fa-qq fa-fw text-muted"></i> 
                QQ
              </a>
              <a class="list-group-item" href>
                <span class="pull-right">{{item.privatemobile}}</span>
                <i class="fa fa-mobile fa-fw text-muted"></i> 
                私人电话
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- edit contact -->
      <div class="padder-md m-t" ng-show="showEdit">      
        <h4 class="panel-heading font-bold">修改联系人</h4>
        <div class="panel-body">
          <form name="form" class="form-horizontal m-t-lg form-validation ">
            <div class="form-group">
              <label class="col-lg-2 control-label">姓名</label>
              <div class="col-lg-4">
                <input type="text" class="form-control" ng-model="itemToEdit.name" placeholder="必填" required>
              </div>
              <div class="col-lg-4 ">
                <div class="checkbox">
                  <label class="i-checks">
                    <input type="checkbox" ng-model="itemToEdit.isLeader">
                    <i></i>
                    品牌主要联系人
                  </label>
                </div>
              </div>
            </div>              

            <div class="form-group">
              <label class="col-lg-2 control-label">性别</label>
              <div class="col-lg-8">
                <span>
                  <div class="radio inline m-r">
                    <label class="i-checks">
                      <input type="radio" name="gender" ng-model="itemToEdit.gender" value="M">
                      <i></i>男
                    </label>
                  </div>
                  <div class="radio inline">
                    <label class="i-checks">
                      <input type="radio" name="gender" ng-model="itemToEdit.gender" value="F" checked>
                      <i></i>女
                    </label>
                  </div>
                </span>
              </div>
            </div>

            <div class="line line-dashed b-b line-lg pull-in"></div>

            <div class="form-group">
              <label class="col-lg-2 control-label">部门</label>
              <div class="col-lg-8">
                <input type="text" class="form-control" ng-model="itemToEdit.department"  >
              </div>
            </div>

            <div class="form-group">
              <label class="col-lg-2 control-label">职位</label>
              <div class="col-lg-8">
                <input type="text" class="form-control" ng-model="itemToEdit.title" >
              </div>
            </div>

            <div class="line line-dashed b-b line-lg pull-in"></div>

            <div class="form-group">
              <label class="col-lg-2 control-label">工作电话</label>
              <div class="col-lg-8">
                <input type="text" class="form-control"  ng-model="itemToEdit.workmobile"  >
              </div>
            </div>

            <div class="form-group">
              <label class="col-lg-2 control-label">私人电话</label>
              <div class="col-lg-8">
                <input type="text" class="form-control" ng-model="itemToEdit.privatemobile">
              </div>
            </div>

            <div class="line line-dashed b-b line-lg pull-in"></div>

            <div class="form-group">
              <label class="col-lg-2 control-label">QQ</label>
              <div class="col-lg-8">
                <input type="number" class="form-control" ng-model="itemToEdit.qq">
              </div>
            </div>

            <div class="form-group">
              <label class="col-lg-2 control-label">微信</label>
              <div class="col-lg-8">
                <input type="text" class="form-control" ng-model="itemToEdit.weixin">
              </div>
            </div>

            <div class="form-group">
              <label class="col-lg-2 control-label">Email</label>
              <div class="col-lg-8">
                <input type="email" class="form-control" ng-model="itemToEdit.email">
              </div>
            </div>

            <div class="line line-dashed b-b line-lg pull-in"></div>

            <div class="form-group">
              <div class="col-lg-8 col-lg-offset-2">
                <button type="submit" class="btn btn-danger" ng-click="showEdit=false;">取消</button>
                <button type="submit" class="btn btn-success pull-right" ng-disabled="form.$invalid" ng-click="saveContact()">保存</button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!-- /edit contact -->
    </div>
  </div>
  <!-- /main -->
</div>